{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { initialTeachers, initialStudents, initialCourses } from \"./mockData\";\nexport default function useAdminState() {\n  _s();\n  const [teachers, setTeachers] = useState(initialTeachers);\n  const [students, setStudents] = useState(initialStudents);\n  const [courses, setCourses] = useState(initialCourses);\n  const generateRollNo = () => {\n    const lastStudent = students[students.length - 1];\n    let nextIdNumber = 33;\n    if (lastStudent) {\n      const lastId = lastStudent.rollNo;\n      const match = lastId && lastId.match(/(\\d+)$/);\n      if (match) nextIdNumber = parseInt(match[1]) + 1;\n    }\n    return `su72-bssem-${String(nextIdNumber).padStart(3, \"0\")}`;\n  };\n  const addTeacher = teacher => {\n    const newTeacher = {\n      id: Date.now(),\n      ...teacher\n    };\n    setTeachers(prev => [...prev, newTeacher]);\n  };\n  const deleteTeacher = id => {\n    setTeachers(prev => prev.filter(t => t.id !== id));\n  };\n  const addStudent = student => {\n    const s = {\n      id: Date.now(),\n      rollNo: generateRollNo(),\n      ...student\n    };\n    setStudents(prev => [...prev, s]);\n  };\n  const deleteStudent = id => {\n    setStudents(prev => prev.filter(s => s.id !== id));\n  };\n  const addCourse = course => {\n    const teacher = teachers.find(t => t.id === parseInt(course.assignedTeacherId, 10));\n    const newCourse = {\n      id: Date.now(),\n      name: course.name,\n      code: course.code,\n      assignedTeacherId: parseInt(course.assignedTeacherId, 10),\n      assignedTeacherName: teacher ? teacher.name : \"Unassigned\",\n      assignedClass: course.assignedClass\n    };\n    setCourses(prev => [...prev, newCourse]);\n  };\n  const deleteCourse = id => {\n    setCourses(prev => prev.filter(c => c.id !== id));\n  };\n  const editTeacher = (id, updated) => {\n    setTeachers(prev => prev.map(t => t.id === id ? {\n      ...t,\n      ...updated\n    } : t));\n  };\n  const editStudent = (id, updated) => {\n    setStudents(prev => prev.map(s => s.id === id ? {\n      ...s,\n      ...updated\n    } : s));\n  };\n  const editCourse = (id, updated) => {\n    const teacher = updated.assignedTeacherId && teachers.find(t => t.id === parseInt(updated.assignedTeacherId, 10));\n    setCourses(prev => prev.map(c => c.id === id ? {\n      ...c,\n      ...updated,\n      assignedTeacherName: teacher ? teacher.name : c.assignedTeacherName,\n      assignedTeacherId: updated.assignedTeacherId ? parseInt(updated.assignedTeacherId, 10) : c.assignedTeacherId\n    } : c));\n  };\n  return {\n    teachers,\n    students,\n    courses,\n    addTeacher,\n    deleteTeacher,\n    editTeacher,\n    addStudent,\n    deleteStudent,\n    editStudent,\n    addCourse,\n    deleteCourse,\n    editCourse,\n    generateRollNo\n  };\n}\n_s(useAdminState, \"6P36ZEbVPe05HvsXmremINXlcZc=\");","map":{"version":3,"names":["useState","initialTeachers","initialStudents","initialCourses","useAdminState","_s","teachers","setTeachers","students","setStudents","courses","setCourses","generateRollNo","lastStudent","length","nextIdNumber","lastId","rollNo","match","parseInt","String","padStart","addTeacher","teacher","newTeacher","id","Date","now","prev","deleteTeacher","filter","t","addStudent","student","s","deleteStudent","addCourse","course","find","assignedTeacherId","newCourse","name","code","assignedTeacherName","assignedClass","deleteCourse","c","editTeacher","updated","map","editStudent","editCourse"],"sources":["D:/school-management/src/components/admin/useAdminState.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { initialTeachers, initialStudents, initialCourses } from \"./mockData\";\r\n\r\nexport default function useAdminState() {\r\n  const [teachers, setTeachers] = useState(initialTeachers);\r\n  const [students, setStudents] = useState(initialStudents);\r\n  const [courses, setCourses] = useState(initialCourses);\r\n\r\n  const generateRollNo = () => {\r\n    const lastStudent = students[students.length - 1];\r\n    let nextIdNumber = 33;\r\n    if (lastStudent) {\r\n      const lastId = lastStudent.rollNo;\r\n      const match = lastId && lastId.match(/(\\d+)$/);\r\n      if (match) nextIdNumber = parseInt(match[1]) + 1;\r\n    }\r\n    return `su72-bssem-${String(nextIdNumber).padStart(3, \"0\")}`;\r\n  };\r\n\r\n  const addTeacher = (teacher) => {\r\n    const newTeacher = {\r\n      id: Date.now(),\r\n      ...teacher,\r\n    };\r\n    setTeachers((prev) => [...prev, newTeacher]);\r\n  };\r\n\r\n  const deleteTeacher = (id) => {\r\n    setTeachers((prev) => prev.filter((t) => t.id !== id));\r\n  };\r\n\r\n  const addStudent = (student) => {\r\n    const s = {\r\n      id: Date.now(),\r\n      rollNo: generateRollNo(),\r\n      ...student,\r\n    };\r\n    setStudents((prev) => [...prev, s]);\r\n  };\r\n\r\n  const deleteStudent = (id) => {\r\n    setStudents((prev) => prev.filter((s) => s.id !== id));\r\n  };\r\n\r\n  const addCourse = (course) => {\r\n    const teacher = teachers.find(\r\n      (t) => t.id === parseInt(course.assignedTeacherId, 10)\r\n    );\r\n    const newCourse = {\r\n      id: Date.now(),\r\n      name: course.name,\r\n      code: course.code,\r\n      assignedTeacherId: parseInt(course.assignedTeacherId, 10),\r\n      assignedTeacherName: teacher ? teacher.name : \"Unassigned\",\r\n      assignedClass: course.assignedClass,\r\n    };\r\n    setCourses((prev) => [...prev, newCourse]);\r\n  };\r\n\r\n  const deleteCourse = (id) => {\r\n    setCourses((prev) => prev.filter((c) => c.id !== id));\r\n  };\r\n\r\n  const editTeacher = (id, updated) => {\r\n    setTeachers((prev) => prev.map((t) => (t.id === id ? { ...t, ...updated } : t)));\r\n  };\r\n\r\n  const editStudent = (id, updated) => {\r\n    setStudents((prev) => prev.map((s) => (s.id === id ? { ...s, ...updated } : s)));\r\n  };\r\n\r\n  const editCourse = (id, updated) => {\r\n    const teacher =\r\n      updated.assignedTeacherId &&\r\n      teachers.find((t) => t.id === parseInt(updated.assignedTeacherId, 10));\r\n    setCourses((prev) =>\r\n      prev.map((c) =>\r\n        c.id === id\r\n          ? {\r\n              ...c,\r\n              ...updated,\r\n              assignedTeacherName: teacher ? teacher.name : c.assignedTeacherName,\r\n              assignedTeacherId: updated.assignedTeacherId\r\n                ? parseInt(updated.assignedTeacherId, 10)\r\n                : c.assignedTeacherId,\r\n            }\r\n          : c\r\n      )\r\n    );\r\n  };\r\n\r\n  return {\r\n    teachers,\r\n    students,\r\n    courses,\r\n    addTeacher,\r\n    deleteTeacher,\r\n    editTeacher,\r\n    addStudent,\r\n    deleteStudent,\r\n    editStudent,\r\n    addCourse,\r\n    deleteCourse,\r\n    editCourse,\r\n    generateRollNo,\r\n  };\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}